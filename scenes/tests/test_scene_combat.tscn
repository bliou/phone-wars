[gd_scene load_steps=24 format=4 uid="uid://dxril5owa1jv5"]

[ext_resource type="Script" uid="uid://cyj1lsu0epdxb" path="res://scripts/managers/game_manager.gd" id="1_t1o2k"]
[ext_resource type="PackedScene" uid="uid://bqeqp2n1diaug" path="res://scenes/grids/grid.tscn" id="2_h65yf"]
[ext_resource type="Script" uid="uid://b4bglf1qv6woa" path="res://scripts/managers/terrain_manager.gd" id="3_8kiat"]
[ext_resource type="Script" uid="uid://3ayikrqceb2l" path="res://scripts/resources/terrains/terrain_database.gd" id="4_xdr7y"]
[ext_resource type="Script" uid="uid://dnop8yi4lsey8" path="res://scripts/resources/terrains/terrain_data.gd" id="5_rqq3m"]
[ext_resource type="Resource" uid="uid://dwxloe1ridhm3" path="res://resources/terrains/sea.tres" id="6_3tgvs"]
[ext_resource type="Resource" uid="uid://bj5me6f7bmym8" path="res://resources/terrains/grass.tres" id="7_k53m2"]
[ext_resource type="Resource" uid="uid://me5ftqrn14oh" path="res://resources/terrains/forest.tres" id="8_r8exw"]
[ext_resource type="Resource" uid="uid://dgi1ege5lgpb4" path="res://resources/terrains/road.tres" id="9_p8u73"]
[ext_resource type="Resource" uid="uid://c48h8xucyvg1n" path="res://resources/terrains/hill.tres" id="10_viv5u"]
[ext_resource type="TileSet" uid="uid://45ako5jwxjpx" path="res://tilesets/game_tileset_tres.tres" id="11_rbirq"]
[ext_resource type="PackedScene" uid="uid://ci7d8ddulm6b5" path="res://scenes/teams/team.tscn" id="12_n3opb"]
[ext_resource type="PackedScene" uid="uid://mu0vq50rfsva" path="res://scenes/units/soldier.tscn" id="13_v1tfe"]
[ext_resource type="PackedScene" uid="uid://csvvf54hn6ta3" path="res://scenes/units/recon.tscn" id="14_h65yf"]
[ext_resource type="PackedScene" uid="uid://cbb2legf80c0p" path="res://scenes/buildings/base.tscn" id="14_qrvgh"]
[ext_resource type="PackedScene" uid="uid://dsbo56tbuh626" path="res://scenes/units/light_tank.tscn" id="15_8kiat"]
[ext_resource type="PackedScene" uid="uid://coewfg6qqq82j" path="res://scenes/buildings/city.tscn" id="15_l50gb"]
[ext_resource type="PackedScene" uid="uid://3csvabqn48e1" path="res://scenes/units/artillery.tscn" id="16_xdr7y"]
[ext_resource type="Script" uid="uid://cky8p0fqqxnii" path="res://scripts/managers/input_manager.gd" id="16_xfvij"]
[ext_resource type="PackedScene" uid="uid://baity5p4rgu1j" path="res://scenes/ui/controller/ui_controller.tscn" id="17_px0mx"]
[ext_resource type="Script" uid="uid://cuc58c2au6p3i" path="res://scripts/orchestrator/combat_orchestrator.gd" id="18_xao8q"]
[ext_resource type="Script" uid="uid://dnrk6k26be4ly" path="res://scripts/services/fx_service.gd" id="22_rqq3m"]

[sub_resource type="Resource" id="Resource_5bptm"]
script = ExtResource("4_xdr7y")
terrains = Array[ExtResource("5_rqq3m")]([ExtResource("6_3tgvs"), ExtResource("7_k53m2"), ExtResource("8_r8exw"), ExtResource("9_p8u73"), ExtResource("10_viv5u")])
metadata/_custom_type_script = "uid://3ayikrqceb2l"

[node name="TestSceneCombat" type="Node2D"]
script = ExtResource("1_t1o2k")

[node name="Grid" parent="." instance=ExtResource("2_h65yf")]

[node name="Terrain" type="Node2D" parent="."]
script = ExtResource("3_8kiat")
terrain_database = SubResource("Resource_5bptm")

[node name="Sea" type="TileMapLayer" parent="Terrain"]
tile_map_data = PackedByteArray("AAAAAAIAAwAAAAAAAAAAAAMAAwAAAAAAAAAAAAQAAwAAAAAAAAAAAAUAAwAAAAAAAAAAAAYAAwAAAAAAAAAAAAcAAwAAAAAAAAAAAAgAAwAAAAAAAAAAAAkAAwAAAAAAAAABAAIAAwAAAAAAAAABAAMAAwAAAAAAAAABAAQAAwAAAAAAAAABAAUAAwAAAAAAAAABAAYAAwAAAAAAAAABAAcAAwAAAAAAAAABAAgAAwAAAAAAAAABAAkAAwAAAAAAAAACAAIAAwAAAAAAAAACAAMAAwAAAAAAAAACAAQAAwAAAAAAAAACAAUAAwAAAAAAAAACAAYAAwAAAAAAAAACAAcAAwAAAAAAAAACAAgAAwAAAAAAAAACAAkAAwAAAAAAAAADAAIAAwAAAAAAAAADAAMAAwAAAAAAAAADAAQAAwAAAAAAAAADAAUAAwAAAAAAAAADAAYAAwAAAAAAAAADAAcAAwAAAAAAAAADAAgAAwAAAAAAAAADAAkAAwAAAAAAAAAEAAIAAwAAAAAAAAAEAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAAEAAUAAwAAAAAAAAAEAAYAAwAAAAAAAAAEAAcAAwAAAAAAAAAEAAgAAwAAAAAAAAAEAAkAAwAAAAAAAAAFAAIAAwAAAAAAAAAFAAMAAwAAAAAAAAAFAAQAAwAAAAAAAAAFAAUAAwAAAAAAAAAFAAYAAwAAAAAAAAAFAAcAAwAAAAAAAAAFAAgAAwAAAAAAAAAFAAkAAwAAAAAAAAAGAAIAAwAAAAAAAAAGAAMAAwAAAAAAAAAGAAQAAwAAAAAAAAAGAAUAAwAAAAAAAAAGAAYAAwAAAAAAAAAGAAcAAwAAAAAAAAAGAAgAAwAAAAAAAAAGAAkAAwAAAAAAAAAHAAIAAwAAAAAAAAAHAAMAAwAAAAAAAAAHAAQAAwAAAAAAAAAHAAUAAwAAAAAAAAAHAAYAAwAAAAAAAAAHAAcAAwAAAAAAAAAHAAgAAwAAAAAAAAAHAAkAAwAAAAAAAAAIAAIAAwAAAAAAAAAIAAMAAwAAAAAAAAAIAAQAAwAAAAAAAAAIAAUAAwAAAAAAAAAIAAYAAwAAAAAAAAAIAAcAAwAAAAAAAAAIAAgAAwAAAAAAAAAIAAkAAwAAAAAAAAAJAAIAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAAJAAUAAwAAAAAAAAAJAAYAAwAAAAAAAAAJAAcAAwAAAAAAAAAJAAgAAwAAAAAAAAAJAAkAAwAAAAAAAAAKAAIAAwAAAAAAAAAKAAMAAwAAAAAAAAAKAAQAAwAAAAAAAAAKAAUAAwAAAAAAAAAKAAYAAwAAAAAAAAAKAAcAAwAAAAAAAAAKAAgAAwAAAAAAAAAKAAkAAwAAAAAAAAALAAIAAwAAAAAAAAALAAMAAwAAAAAAAAALAAQAAwAAAAAAAAALAAUAAwAAAAAAAAALAAYAAwAAAAAAAAALAAcAAwAAAAAAAAALAAgAAwAAAAAAAAALAAkAAwAAAAAAAAAMAAIAAwAAAAAAAAAMAAMAAwAAAAAAAAAMAAQAAwAAAAAAAAAMAAUAAwAAAAAAAAAMAAYAAwAAAAAAAAAMAAcAAwAAAAAAAAAMAAgAAwAAAAAAAAAMAAkAAwAAAAAAAAANAAIAAwAAAAAAAAANAAMAAwAAAAAAAAANAAQAAwAAAAAAAAANAAUAAwAAAAAAAAANAAYAAwAAAAAAAAANAAcAAwAAAAAAAAANAAgAAwAAAAAAAAANAAkAAwAAAAAAAAAOAAIAAwAAAAAAAAAOAAMAAwAAAAAAAAAOAAQAAwAAAAAAAAAOAAUAAwAAAAAAAAAOAAYAAwAAAAAAAAAOAAcAAwAAAAAAAAAOAAgAAwAAAAAAAAAOAAkAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAEAAwAAAAAAAAAAAAoAAwAAAAAAAAABAAAAAwAAAAAAAAABAAEAAwAAAAAAAAABAAoAAwAAAAAAAAACAAAAAwAAAAAAAAACAAEAAwAAAAAAAAACAAoAAwAAAAAAAAADAAAAAwAAAAAAAAADAAEAAwAAAAAAAAADAAoAAwAAAAAAAAAEAAAAAwAAAAAAAAAEAAEAAwAAAAAAAAAEAAoAAwAAAAAAAAAFAAAAAwAAAAAAAAAFAAEAAwAAAAAAAAAFAAoAAwAAAAAAAAAGAAAAAwAAAAAAAAAGAAEAAwAAAAAAAAAGAAoAAwAAAAAAAAAHAAAAAwAAAAAAAAAHAAEAAwAAAAAAAAAHAAoAAwAAAAAAAAAIAAAAAwAAAAAAAAAIAAEAAwAAAAAAAAAIAAoAAwAAAAAAAAAJAAAAAwAAAAAAAAAJAAEAAwAAAAAAAAAJAAoAAwAAAAAAAAAKAAAAAwAAAAAAAAAKAAEAAwAAAAAAAAAKAAoAAwAAAAAAAAALAAAAAwAAAAAAAAALAAEAAwAAAAAAAAALAAoAAwAAAAAAAAAMAAAAAwAAAAAAAAAMAAEAAwAAAAAAAAAMAAoAAwAAAAAAAAANAAAAAwAAAAAAAAANAAEAAwAAAAAAAAANAAoAAwAAAAAAAAAOAAAAAwAAAAAAAAAOAAEAAwAAAAAAAAAOAAoAAwAAAAAAAAAPAAAAAwAAAAAAAAAPAAEAAwAAAAAAAAAPAAIAAwAAAAAAAAAPAAMAAwAAAAAAAAAPAAQAAwAAAAAAAAAPAAUAAwAAAAAAAAAPAAYAAwAAAAAAAAAPAAcAAwAAAAAAAAAPAAgAAwAAAAAAAAAPAAkAAwAAAAAAAAAPAAoAAwAAAAAAAAAQAAAAAwAAAAAAAAAQAAEAAwAAAAAAAAAQAAIAAwAAAAAAAAAQAAMAAwAAAAAAAAAQAAQAAwAAAAAAAAAQAAUAAwAAAAAAAAAQAAYAAwAAAAAAAAAQAAcAAwAAAAAAAAAQAAgAAwAAAAAAAAAQAAkAAwAAAAAAAAAQAAoAAwAAAAAAAAARAAAAAwAAAAAAAAARAAEAAwAAAAAAAAARAAIAAwAAAAAAAAARAAMAAwAAAAAAAAARAAQAAwAAAAAAAAARAAUAAwAAAAAAAAARAAYAAwAAAAAAAAARAAcAAwAAAAAAAAARAAgAAwAAAAAAAAARAAkAAwAAAAAAAAARAAoAAwAAAAAAAAASAAAAAwAAAAAAAAASAAEAAwAAAAAAAAASAAIAAwAAAAAAAAASAAMAAwAAAAAAAAASAAQAAwAAAAAAAAASAAUAAwAAAAAAAAASAAYAAwAAAAAAAAASAAcAAwAAAAAAAAASAAgAAwAAAAAAAAASAAkAAwAAAAAAAAASAAoAAwAAAAAAAAATAAAAAwAAAAAAAAATAAEAAwAAAAAAAAATAAIAAwAAAAAAAAATAAMAAwAAAAAAAAATAAQAAwAAAAAAAAATAAUAAwAAAAAAAAATAAYAAwAAAAAAAAATAAcAAwAAAAAAAAATAAgAAwAAAAAAAAATAAkAAwAAAAAAAAATAAoAAwAAAAAAAAA=")
tile_set = ExtResource("11_rbirq")

[node name="Grass" type="TileMapLayer" parent="Terrain"]
tile_map_data = PackedByteArray("AAABAAMABAADAAEAAAABAAQABAADAAEAAAABAAUABAADAAEAAAABAAYABAADAAEAAAABAAcABAADAAEAAAABAAgABAADAAEAAAACAAMABAADAAEAAAACAAQABAADAAEAAAACAAUABAADAAEAAAACAAYABAADAAEAAAACAAcABAADAAEAAAACAAgABAADAAEAAAADAAMABAADAAEAAAADAAQABAADAAEAAAADAAUABAADAAEAAAADAAYABAADAAEAAAADAAcABAADAAEAAAADAAgABAADAAEAAAAEAAMABAADAAEAAAAEAAQABAADAAEAAAAEAAUABAADAAEAAAAEAAYABAADAAEAAAAEAAcABAADAAEAAAAEAAgABAADAAEAAAAFAAMABAADAAEAAAAFAAQABAADAAEAAAAFAAUABAADAAEAAAAFAAYABAADAAEAAAAFAAcABAADAAEAAAAFAAgABAADAAEAAAAGAAMABAADAAEAAAAGAAQABAADAAEAAAAGAAUABAADAAEAAAAGAAYABAADAAEAAAAGAAcABAADAAEAAAAGAAgABAADAAEAAAAHAAMABAADAAEAAAAHAAQABAADAAEAAAAHAAUABAADAAEAAAAHAAYABAADAAEAAAAHAAcABAADAAEAAAAHAAgABAADAAEAAAAIAAMABAADAAEAAAAIAAQABAADAAEAAAAIAAUABAADAAEAAAAIAAYABAADAAEAAAAIAAcABAADAAEAAAAIAAgABAADAAEAAAAJAAMABAADAAEAAAAJAAQABAADAAEAAAAJAAUABAADAAEAAAAJAAYABAADAAEAAAAJAAcABAADAAEAAAAJAAgABAADAAEAAAAKAAMABAADAAEAAAAKAAQABAADAAEAAAAKAAUABAADAAEAAAAKAAYABAADAAEAAAAKAAcABAADAAEAAAAKAAgABAADAAEAAAALAAMABAADAAEAAAALAAQABAADAAEAAAALAAUABAADAAEAAAALAAYABAADAAEAAAALAAcABAADAAEAAAALAAgABAADAAEAAAAMAAMABAADAAEAAAAMAAQABAADAAEAAAAMAAUABAADAAEAAAAMAAYABAADAAEAAAAMAAcABAADAAEAAAAMAAgABAADAAEAAAA=")
tile_set = ExtResource("11_rbirq")

[node name="Forest" type="TileMapLayer" parent="Terrain"]
tile_map_data = PackedByteArray("AAADAAQABAAEAAEAAAADAAUABAAEAAEAAAACAAUABAAEAAEAAAA=")
tile_set = ExtResource("11_rbirq")

[node name="Road" type="TileMapLayer" parent="Terrain"]
tile_map_data = PackedByteArray("AAADAAYABAABAAIAAAAEAAYABAADAAAAAAAFAAYABAADAAAAAAAGAAYABAADAAAAAAAHAAYABAADAAAAAAAIAAYABAADAAAAAAAJAAUABAACAAIAAAAJAAQABAACAAIAAAAJAAcABAACAAIAAAAJAAgABAABAAEAAAADAAgABAABAAAAAAAEAAgABAADAAAAAAAFAAgABAADAAAAAAAGAAgABAADAAAAAAAHAAgABAADAAAAAAAIAAgABAADAAAAAAADAAcABAACAAIAAAAJAAYABAACAAEAAAA=")
tile_set = ExtResource("11_rbirq")

[node name="Hill" type="TileMapLayer" parent="Terrain"]
tile_map_data = PackedByteArray("AAALAAYABAAEAAAAAAALAAUABAAEAAAAAAALAAQABAAEAAAAAAA=")
tile_set = ExtResource("11_rbirq")

[node name="Teams" type="Node" parent="."]

[node name="RedTeam" parent="Teams" instance=ExtResource("12_n3opb")]
team_color = Color(0.5647059, 0.16078432, 0.08235294, 1)
team_type = 0
face_direction = 1

[node name="Soldier" parent="Teams/RedTeam/UnitsManager" index="0" instance=ExtResource("13_v1tfe")]
position = Vector2(216, 224)

[node name="Soldier2" parent="Teams/RedTeam/UnitsManager" index="1" instance=ExtResource("13_v1tfe")]
position = Vector2(304, 208)

[node name="Recon" parent="Teams/RedTeam/UnitsManager" index="2" instance=ExtResource("14_h65yf")]
position = Vector2(328, 136)

[node name="LightTank" parent="Teams/RedTeam/UnitsManager" index="3" instance=ExtResource("15_8kiat")]
position = Vector2(176, 136)

[node name="Artillery" parent="Teams/RedTeam/UnitsManager" index="4" instance=ExtResource("16_xdr7y")]
position = Vector2(80, 144)

[node name="Base" parent="Teams/RedTeam/BuildingsManager" index="0" instance=ExtResource("14_qrvgh")]
position = Vector2(176, 176)

[node name="BlueTeam" parent="Teams" instance=ExtResource("12_n3opb")]
team_color = Color(0.25502887, 0.2628792, 0.75195503, 1)
team_type = 0

[node name="Soldier3" parent="Teams/BlueTeam/UnitsManager" index="0" instance=ExtResource("13_v1tfe")]
position = Vector2(264, 208)

[node name="Recon" parent="Teams/BlueTeam/UnitsManager" index="1" instance=ExtResource("14_h65yf")]
position = Vector2(240, 144)

[node name="LightTank" parent="Teams/BlueTeam/UnitsManager" index="2" instance=ExtResource("15_8kiat")]
position = Vector2(152, 224)

[node name="Artillery" parent="Teams/BlueTeam/UnitsManager" index="3" instance=ExtResource("16_xdr7y")]
position = Vector2(144, 176)

[node name="NeutralTeam" parent="Teams" instance=ExtResource("12_n3opb")]
team_color = Color(0.64705884, 0.64705884, 0.64705884, 1)

[node name="City" parent="Teams/NeutralTeam/BuildingsManager" index="0" instance=ExtResource("15_l50gb")]
position = Vector2(240, 176)

[node name="Managers" type="Node" parent="."]

[node name="InputManager" type="Node" parent="Managers"]
script = ExtResource("16_xfvij")

[node name="UIController" parent="." instance=ExtResource("17_px0mx")]
visible = false

[node name="Orchestrators" type="Node" parent="."]

[node name="CombatOrchestrator" type="Node" parent="Orchestrators"]
script = ExtResource("18_xao8q")

[node name="CombatFX" type="Node2D" parent="."]
z_index = 3
script = ExtResource("22_rqq3m")

[editable path="Teams/RedTeam"]
[editable path="Teams/BlueTeam"]
[editable path="Teams/NeutralTeam"]
